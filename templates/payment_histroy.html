{% extends "base.html" %}
{% block content %}
<h2 class="text-2xl font-bold text-blue-700 mb-4">Check Payment History</h2>
<form method="post" class="bg-white p-4 shadow-md rounded-lg mb-6">
  <label class="block text-sm font-medium mb-2">Enter Student Roll No</label>
  <input name="roll_no" class="border rounded p-2 w-full md:w-1/2" required>
  <button class="bg-blue-700 text-white px-4 py-2 rounded ml-2 hover:bg-blue-800">Search</button>
</form>

{% if payments %}
  {% if payments|length > 0 %}
    <table class="min-w-full bg-white shadow rounded-lg overflow-hidden">
      <thead class="bg-blue-100">
        <tr>
          <th class="p-3 text-left">Month</th>
          <th class="p-3 text-left">Amount</th>
          <th class="p-3 text-left">Paid</th>
          <th class="p-3 text-left">Date</th>
        </tr>
      </thead>
      <tbody>
        {% for p in payments %}
        <tr class="border-b hover:bg-gray-50">
          <td class="p-3">{{ p.payment_month }}</td>
          <td class="p-3">{{ p.amount }}</td>
          <td class="p-3">{{ 'Yes' if p.paid else 'No' }}</td>
          <td class="p-3">{{ p.submitted_at.strftime('%d %b %Y') }}</td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  {% else %}
    <p>No records found for this Roll No.</p>
  {% endif %}
{% endif %}
{% endblock %}